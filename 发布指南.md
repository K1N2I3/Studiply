# Study Hub 发布指南

## 🚀 发布前检查清单

### 1. 环境变量配置
确保你有正确的环境变量配置：

```bash
# 创建 .env.local 文件（如果还没有）
VITE_AGORA_APP_ID=你的实际Agora_APP_ID
```

### 2. 功能测试
确保以下功能正常工作：
- ✅ 用户注册/登录
- ✅ Tutor/Student 角色切换
- ✅ 会话请求和接受
- ✅ 视频通话功能
- ✅ 会议代码生成和加入
- ✅ 实时聊天
- ✅ 好友系统

### 3. 构建项目
```bash
npm run build
```

### 4. 部署选项

#### 选项 1: Netlify (推荐)
1. 将 `dist` 文件夹拖拽到 [Netlify](https://netlify.com)
2. 或者连接 GitHub 仓库自动部署
3. 设置环境变量：
   - `VITE_AGORA_APP_ID`: 你的 Agora App ID

#### 选项 2: Vercel
1. 连接 GitHub 仓库到 [Vercel](https://vercel.com)
2. 设置环境变量
3. 自动部署

#### 选项 3: Firebase Hosting
1. 安装 Firebase CLI: `npm install -g firebase-tools`
2. 登录: `firebase login`
3. 初始化: `firebase init hosting`
4. 部署: `firebase deploy`

#### 选项 4: GitHub Pages
1. 安装 gh-pages: `npm install --save-dev gh-pages`
2. 在 package.json 中添加：
   ```json
   "homepage": "https://你的用户名.github.io/Study-Hub",
   "scripts": {
     "predeploy": "npm run build",
     "deploy": "gh-pages -d dist"
   }
   ```
3. 部署: `npm run deploy`

## 🔧 发布后配置

### 1. 域名配置
如果使用自定义域名，需要配置：
- DNS 设置
- SSL 证书（通常自动提供）

### 2. 环境变量设置
在部署平台设置以下环境变量：
- `VITE_AGORA_APP_ID`: 你的 Agora App ID

### 3. Firebase 配置
确保 Firebase 项目配置正确：
- 在 Firebase 控制台添加你的域名到授权域名列表
- 检查 Firestore 安全规则

## 🐛 常见问题

### 1. 视频通话不工作
- 检查 Agora App ID 是否正确
- 确保在 Agora 控制台启用音视频功能
- 检查浏览器权限设置

### 2. Firebase 连接失败
- 检查 Firebase 配置
- 确保域名在授权列表中
- 检查 Firestore 安全规则

### 3. 环境变量不生效
- 确保变量名以 `VITE_` 开头
- 重新构建项目
- 检查部署平台的环境变量设置

## 📱 移动端适配
当前应用主要针对桌面端设计，如需移动端支持：
1. 添加响应式设计
2. 优化触摸交互
3. 测试移动端视频通话

## 🔒 安全考虑
1. 不要在客户端暴露敏感信息
2. 使用 Firebase 安全规则保护数据
3. 定期更新依赖包
4. 监控应用性能和安全

## 📊 性能优化
1. 启用代码分割
2. 压缩静态资源
3. 使用 CDN
4. 监控加载时间

## 🆘 技术支持
如果遇到问题：
1. 检查浏览器控制台错误
2. 查看网络请求状态
3. 测试本地环境
4. 联系技术支持

---

**注意**: 发布前请确保所有功能都经过充分测试！
